<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Iron Lady Pathfinder - AI-powered leadership program discovery for ambitious women">
    <meta name="theme-color" content="#8B1538">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Iron Lady Pathfinder | Your Leadership Journey Starts Here</title>
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="2"/>
                        <path d="M20 8L20 32M12 16L20 8L28 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <span class="brand-name">Iron Lady</span>
                    <span class="tagline">Pathfinder</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="icon-btn" id="analyticsBtn" aria-label="View analytics" title="View session analytics">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 20V10"/>
                        <path d="M12 20V4"/>
                        <path d="M6 20v-6"/>
                    </svg>
                </button>
                <button class="icon-btn" id="voiceOutputToggle" aria-label="Toggle voice output" title="Toggle voice output (bot speaks)">
                    <svg class="speaker-on-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                        <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                    </svg>
                    <svg class="speaker-off-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                        <line x1="23" y1="9" x2="17" y2="15"/>
                        <line x1="17" y1="9" x2="23" y2="15"/>
                    </svg>
                </button>
                <button class="icon-btn" id="darkModeToggle" aria-label="Toggle dark mode" title="Toggle dark mode">
                    <svg class="sun-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <svg class="moon-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
                <button class="btn-secondary" id="resetChat">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                        <path d="M3 3v5h5"/>
                    </svg>
                    Restart
                </button>
            </div>
        </header>

        <!-- Offline Banner -->
        <div class="offline-banner" id="offlineBanner" style="display: none;">
            <span>üîå You're offline. Pathfinder is running in offline mode.</span>
        </div>

        <!-- Mini Summary Header (sticky) -->
        <div class="summary-header" id="summaryHeader" style="display: none;">
            <div class="summary-content">
                <span class="summary-item" id="summaryStage"></span>
                <span class="summary-divider">‚Ä¢</span>
                <span class="summary-item" id="summaryGoal"></span>
                <span class="summary-divider">‚Ä¢</span>
                <span class="summary-item" id="summaryChallenges"></span>
            </div>
            <span class="summary-match" id="summaryMatch"></span>
        </div>

        <!-- Social Proof Banner -->
        <div class="social-proof" id="socialProof">
            <div class="proof-item">
                <span class="proof-number">10,000+</span>
                <span>Women Trained</span>
            </div>
            <div class="proof-item">
                <span class="proof-number">85%</span>
                <span>Report Career Growth</span>
            </div>
            <div class="proof-item">
                <span class="proof-number">50+</span>
                <span>Companies Trust Us</span>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-steps">
                <div class="progress-step">
                    <div class="progress-dot" data-step="1">1</div>
                    <span class="progress-label">Stage</span>
                </div>
                <div class="progress-line" data-line="1"></div>
                <div class="progress-step">
                    <div class="progress-dot" data-step="2">2</div>
                    <span class="progress-label">Goal</span>
                </div>
                <div class="progress-line" data-line="2"></div>
                <div class="progress-step">
                    <div class="progress-dot" data-step="3">3</div>
                    <span class="progress-label">Challenges</span>
                </div>
                <div class="progress-line" data-line="3"></div>
                <div class="progress-step">
                    <div class="progress-dot" data-step="4">4</div>
                    <span class="progress-label">Result</span>
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <main class="chat-container">
            <div class="chat-messages" id="chatMessages" role="log" aria-live="polite" aria-label="Chat messages">
                <!-- Messages will be inserted here -->
            </div>
            
            <!-- Quick Actions Panel -->
            <div class="quick-actions" id="quickActions">
                <!-- Dynamic quick action buttons will appear here -->
            </div>
        </main>

        <!-- Input Area -->
        <footer class="input-area">
            <div class="input-wrapper">
                <textarea 
                    id="userInput" 
                    placeholder="Type your message..." 
                    rows="1"
                    aria-label="Type your message"
                ></textarea>
                <button class="voice-btn" id="voiceBtn" aria-label="Voice input" title="Speak your message">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                        <line x1="12" y1="19" x2="12" y2="23"/>
                        <line x1="8" y1="23" x2="16" y2="23"/>
                    </svg>
                </button>
                <button class="send-btn" id="sendBtn" aria-label="Send message">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"/>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                    </svg>
                </button>
            </div>
            <p class="input-hint">Press Enter to send ‚Ä¢ Shift+Enter for new line</p>
        </footer>
    </div>

    <!-- Lead Capture Modal -->
    <div class="modal-overlay" id="leadModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Stay Connected</h2>
                <p>Share your details and we'll help you take the next step toward leadership excellence.</p>
            </div>
            <form id="leadForm" class="lead-form">
                <!-- Honeypot field for spam protection -->
                <input type="text" id="company" name="company" tabindex="-1" autocomplete="off" 
                       style="position:absolute;left:-9999px;height:0;width:0;overflow:hidden;" 
                       aria-hidden="true">
                
                <div class="form-group">
                    <label for="leadName">Full Name</label>
                    <input type="text" id="leadName" name="name" required placeholder="Your name">
                </div>
                <div class="form-group">
                    <label for="leadEmail">Email Address</label>
                    <input type="email" id="leadEmail" name="email" required placeholder="you@example.com">
                </div>
                <div class="form-group">
                    <label for="leadPhone">Phone (Optional)</label>
                    <input type="tel" id="leadPhone" name="phone" placeholder="+91 98765 43210">
                </div>
                
                <!-- Program Interest (auto-filled) -->
                <input type="hidden" id="leadProgram" name="program">
                
                <div class="form-group consent-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="leadConsent" name="consent" required>
                        <span class="checkmark"></span>
                        <span class="consent-text">I agree to receive communications from Iron Lady about programs and updates. I can unsubscribe anytime.</span>
                    </label>
                </div>
                
                <p class="privacy-note" aria-live="polite">
                    üîí We'll use your details to share program info & schedules. Your data is never sold. You can opt out anytime.
                </p>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="closeModal">Maybe Later</button>
                    <button type="submit" class="btn-primary">Submit & Continue</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Toast -->
    <div class="toast" id="toast">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
        </svg>
        <span id="toastMessage">Success!</span>
    </div>

    <!-- Program Details Modal -->
    <div class="modal-overlay" id="programModal">
        <div class="modal program-modal">
            <button class="modal-close" id="closeProgramModal" aria-label="Close">√ó</button>
            <div id="programModalContent">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <!-- Program Comparison Modal -->
    <div class="modal-overlay" id="comparisonModal">
        <div class="modal comparison-modal">
            <button class="modal-close" id="closeComparisonModal" aria-label="Close">√ó</button>
            <div id="comparisonModalContent">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <!-- Goal Planner Modal -->
    <div class="modal-overlay" id="goalPlannerModal">
        <div class="modal goal-planner-modal">
            <button class="modal-close" id="closeGoalPlanner" aria-label="Close">√ó</button>
            <div id="goalPlannerContent">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <!-- Micro Survey Modal -->
    <div class="modal-overlay" id="surveyModal">
        <div class="modal survey-modal">
            <div class="modal-header">
                <h2>Quick Feedback</h2>
                <p>Does this recommendation feel relevant to you?</p>
            </div>
            <div class="survey-options">
                <button class="survey-btn positive" data-value="yes">
                    <span class="survey-icon">üëç</span>
                    <span>Yes, this fits!</span>
                </button>
                <button class="survey-btn negative" data-value="no">
                    <span class="survey-icon">üëé</span>
                    <span>Not quite right</span>
                </button>
            </div>
            <div class="survey-feedback" id="surveyFeedback" style="display: none;">
                <label for="surveyText">Tell us more (optional):</label>
                <textarea id="surveyText" placeholder="What would make it better?"></textarea>
            </div>
            <div class="form-actions">
                <button type="button" class="btn-secondary" id="skipSurvey">Skip</button>
                <button type="button" class="btn-primary" id="submitSurvey">Submit</button>
            </div>
        </div>
    </div>

    <!-- Lead Confirmation Modal -->
    <div class="modal-overlay" id="leadConfirmModal">
        <div class="modal lead-confirm-modal">
            <div class="modal-header">
                <h2>Confirm Your Details</h2>
                <p>You're about to connect with Iron Lady. Here's what you've shared:</p>
            </div>
            <div id="leadConfirmContent">
                <!-- Populated by JS -->
            </div>
            <div class="form-actions">
                <button type="button" class="btn-secondary" id="editLead">Edit</button>
                <button type="button" class="btn-primary" id="confirmLead">Confirm & Submit</button>
            </div>
        </div>
    </div>

    <!-- Analytics Summary Modal (for demos) -->
    <div class="modal-overlay" id="analyticsModal">
        <div class="modal analytics-modal">
            <div class="modal-header">
                <h2>Session Analytics</h2>
                <p>Funnel analysis for this session</p>
            </div>
            <div id="analyticsContent" class="analytics-content">
                <!-- Populated by JS -->
            </div>
            <div class="form-actions">
                <button type="button" class="btn-secondary" id="closeAnalytics">Close</button>
                <button type="button" class="btn-primary" id="exportAnalytics">Export CSV</button>
            </div>
        </div>
    </div>

    <!-- Demo Mode Banner -->
    <div class="demo-banner" id="demoBanner" style="display: none;">
        <span>Demo Mode</span>
        <button id="showAnalytics" class="demo-btn">View Analytics</button>
    </div>

    <script src="config.js?v=2"></script>
    <script src="app.js?v=2"></script>
</body>
</html>
